/*
 header_functions_search_global-1.0.0.js
 Copyright (c) 2016 Rakuten.Inc
 Date : 2016-09-30 12:33:40
*/
(function(i,d){if("function"===typeof d){var e=d("#ri-cmn-hdr-global"),f=d("#ri-cmn-hdr-global-config"),h=function(a){this.$config=a;this.targetSelector=this.$config.attr("data-target")||"a";this.parameter=this.$config.attr("data-parameter")||"l-id";this.prefix=this.$config.attr("data-prefix");this.count="true"===this.$config.attr("data-count")};h.prototype={initialize:function(){this.prefix&&0!==e.length&&this.bindEvents()},bindEvents:function(){var a=this;this.count?e.find(this.targetSelector).each(function(b){var c=
d(this),g=c.attr("href");g&&!/^#|javascript/i.test(g)&&c.bind("click",function(){var d=c.attr("data-postfix")||"";a.replaceHref(c,g,a.parameter,a.prefix,d,b+1)})}):e.delegate(this.targetSelector,"click",function(){var b=d(this),c=b.attr("href");if(c&&!/^#|javascript/i.test(c)){var g=b.attr("data-postfix")||"";a.replaceHref(b,c,a.parameter,a.prefix,g)}})},createLocationObjectFromURL:function(a){var b=d("<a>")[0];b.href=a;return b},replaceHref:function(a,b,c,d,f,e){b=this.createLocationObjectFromURL(b);
c=(b.search?"&":"")+c+"="+d+f;"undefined"!==typeof e&&(c=c.replace(/#NUMBER#/g,e));b.search+=c;a.attr("href",b.href)}};f=f.find("[data-config=add-lid]").children();0<f.length&&f.each(function(){var a=d(this);(new h(a)).initialize(a)})}})(window,window.jQuery);
