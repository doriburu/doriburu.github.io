/*
 R-1.3.1.js
 Copyright (c) 2016 Rakuten.Inc
 Date: 2016-10-12 14:21:06
*/
if(Rmodules && typeof Rmodules.define === 'function') { Rmodules.define('R', '1.3.1', ['jQuery'], [window, document, navigator], function($, window, document, navigator, undefined) {
window.JSON||(window.JSON={parse:function(sJSON){if(void 0===sJSON)throw"Error";return eval("("+sJSON+")")},stringify:function(){var a=Object.prototype.toString,b=Array.isArray||function(b){return"[object Array]"===a.call(b)},c={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},d=function(a){return c[a]||"\\u"+(a.charCodeAt(0)+65536).toString(16).substr(1)},e=/[\\"\u0000-\u001F\u2028\u2029]/g;return function f(c){if(null==c)return"null";if("number"==typeof c)return isFinite(c)?c.toString():"null";
if("boolean"==typeof c)return c.toString();if("function"==typeof c)return void 0;if("object"==typeof c){if("function"==typeof c.toJSON)return f(c.toJSON());if(b(c)){for(var g="[",h=0;h<c.length;h++)g+=(h?", ":"")+f(c[h]);return g+"]"}if("[object Object]"===a.call(c)){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(f(j)+": "+f(c[j]));return"{"+i.join(", ")+"}"}}return'"'+c.toString().replace(e,d)+'"'}}()}),function(){var a=Array.prototype.slice;try{a.call(document.documentElement);
}catch(b){Array.prototype.slice=function(b,c){var d,e,f,g,h,i;if(c="undefined"!=typeof c?c:this.length,"[object Array]"===Object.prototype.toString.call(this))return a.call(this,b,c);if(e=[],g=this.length,h=b||0,h=h>=0?h:Math.max(0,g+h),i="number"==typeof c?Math.min(c,g):g,0>c&&(i=g+c),f=i-h,f>0)if(e=new Array(f),this.charAt)for(d=0;f>d;d++)e[d]=this.charAt(h+d);else for(d=0;f>d;d++)e[d]=this[h+d];return e}}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c,d,e,f;
if(null==this)throw new TypeError('"this" is null or not defined');if(d=Object(this),e=d.length>>>0,0===e)return-1;if(f=+b||0,Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1});var R=function(a,b,c){function d(){q||(q=[{type:J.enums.PointType.SD,del:[J.enums.PointType.BASE,J.enums.PointType.ITEM,J.enums.PointType.SHOP,J.enums.PointType.HEN,J.enums.PointType.C1,J.enums.PointType.DPG,J.enums.PointType.KAI]},{type:J.enums.PointType.ITEM,
del:[J.enums.PointType.SHOP,J.enums.PointType.HEN]}],r={1:[J.enums.PointType.BASE,J.enums.PointType.SD,J.enums.PointType.ITEM,J.enums.PointType.SHOP,J.enums.PointType.HEN]},s={})}function e(){function c(a,b,c){a.load(d),a.attr("src",a.attr(b)),a.attr("srcset",a.attr(c)),a.removeAttr(b),a.removeAttr(c)}function d(){C--,b.setTimeout(e,1)}function e(){for(var d,e,f=a(b).scrollTop()+a(b).height()+500,g=0,h=A.length;h>g;)if(d=A[g][0],0!==d.closest("body").length)if(d.is(":visible")&&d.offset().top<f){
if(e=A[g][1],C++,A.splice(g,1),h--,c(d,e.src,e.srcset),C>=10)break}else g++;else g++}function f(){var c,d,e,f,g=a(b).scrollTop()+a(b).height(),h=F.height()-g;for(e=0,f=D.length;f>e;e++)c=D[e],d=c.elem?c.elem.offset().top<g+c.margin:h<=c.margin,d&&c.callback()}D.length>0&&f(),A.length>0&&e()}function f(a){var b,c,d,e,f,g=document.createElement("div");if(a in g.style)return a;for(b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),e=0,f=b.length;f>e;e++)if(d=b[e]+c,d in g.style)return d;
return""}function g(a,b){return a===b}function h(a,b){var c,d,e;for(d in a)b&&0!==d.indexOf("jQuery")||a.hasOwnProperty(d)&&(c=a[d],c&&c.fn&&c.fn.jquery&&(e?i(c.fn.jquery,e.fn.jquery)>0&&(e=c):e=c));return e}function i(a,b){function c(a,b){return b>a?-1:a>b?1:0}function d(a,b){for(;b<a.length;b++)if(parseInt(a[b],10)>0)return!0;return!1}a=a.split("."),b=b.split(".");var e,f,g=Math.min(a.length,b.length);for(f=0;g>f;f++)if(e=c(parseInt(a[f],10),parseInt(b[f],10)),0!==e)return e;return a.length>b.length?d(a,g)?1:0:a.length<b.length&&d(b,g)?-1:0;
}function j(a){if(null==N){var b="touchstart"===a.type?a.originalEvent.touches[0]:a.originalEvent;N=a.target,O={x:b.pageX,y:b.pageY},P=J.getMilliseconds()}}function k(a){null!=N&&(N=null)}function l(b){var c,d,e;if(null!=N){if(J.getMilliseconds()-P>300)return void(N=null);d="touchmove"===b.type?b.originalEvent.touches[0]:b.originalEvent,c=m(d),Math.abs(c.y)>15||Math.abs(c.x)<30||(b.preventDefault(),e=n(b,c),a(N).trigger(c.x>0?"swiperight":"swipeleft",e),a(N).trigger("swipe",e),N=null)}}function m(a){
return{x:a.pageX-O.x,y:a.pageY-O.y}}function n(a,b){return{start:O,end:{x:O.x+b.x,y:O.y+b.y},delta:b}}function o(a,b){return b?a+"."+b:a}if(a||(a=h(b,!0))){var p,q,r,s,t=null,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},v={retry:0,retryDelay:1e3,retryFactor:2,mockUrl:c,mockCode:c,mockData:c,mockDelay:0,mockTimeout:!1,dataType:"jsonp",data:{},timeout:3e3},w=0,x="rid_",y=/^([$a-zA-z_][$a-zA-z0-9]*)\[([$a-zA-z0-9]*)\]$/,z={},A=[],B="scroll.lazyLoad,resize.lazyLoad",C=0,D=[],E="r-get-next-element-processed",F=a(document),G=function(){
for(var a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],b=document.createElement("div"),d=0;d<a.length;d++)if(b&&b.style[a[d]]!==c)return a[d];return!1}(),H=function(){var a,b=document.createElement("div"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(b.style[a]!==c)return d[a];return!1}(),I=f("transition");a(b).bind(B,e);var J={};J.$=a,J.setMockupApiUrl=function(a){p=a},J.isFunction=function(a){
return"function"==typeof a},J.isNumber=function(a){return!isNaN(a)&&"number"==typeof a||a instanceof Number},J.isNumeric=a.isNumeric,J.isInt=function(a){return Number(a)==a&&a%1===0&&""!==a&&a!==!0&&a!==!1},J.isString=function(a){return"string"==typeof a||a instanceof String},J.isArray=a.isArray,J.isPlainObject=a.isPlainObject,J.isEmptyObject=function(b){return a.isPlainObject(b)&&a.isEmptyObject(b)},J.isDom=function(a){try{return a instanceof HTMLElement}catch(b){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument;
}},J.equals=function(a,b){var c,d,e;if(J.isPlainObject(a)){if(!J.isPlainObject(b))return!1;e=[];for(c in a)e.push(c);d=0;for(c in b){if(!J.equals(a[c],b[c]))return!1;d++}return d===e.length}if(J.isArray(a)){if(!J.isArray(b))return!1;if(d=a.length,d!==b.length)return!1;for(c=0;d>c;c++)if(!J.equals(a[c],b[c]))return!1;return!0}return a===b||"number"==typeof a&&isNaN(a)&&"number"==typeof b&&isNaN(b)},J.shuffle=function(a){var b,c,d;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],
a[c]=d;return a},J.getRandomElement=function(a){return a[Math.random()*a.length|0]},J.getUnique=function(a,b){function c(a){return b(a,d)}var d,e,f,h=[];for(b||(b=g),e=0,f=a.length;f>e;e++)d=a[e],-1===J.find(h,c)&&h.push(d);return h},J.pushUnique=function(a,b,c){c||(c=g);var d=J.find(a,function(a){return c(b,a)});return-1===d&&(a.push(b),d=a.length-1),d},J.subtract=function(a,b,c){function d(d){return J.find(b,function(b){return c(b,a[e])})}var e,f,g;if(c||(c=J.equals),J.isArray(a))for(g=[],e=0,f=a.length;f>e;e++)-1===d(a[e])&&g.push(a[e]);else if(J.isPlainObject(a)){
g={};for(e in a)-1===d(a[e])&&(g[e]=a[e])}return g},J.clone=function(b){var c,d,e;if(J.isArray(b)){for(c=[],d=0,e=b.length;e>d;d++)c.push(J.clone(b[d]));return c}return J.isPlainObject(b)?a.extend(!0,{},b):b},J.find=function(b,d,e){var f,h;if(d||(d=g),a.isArray(b)){for(e===c?e=0:0>e&&(e=b.length+e),f=e,h=b.length;h>f;f++)if(d(b[f]))return f}else if(e===c){for(f in b)if(d(b[f]))return f}else{h=0;for(f in b)if(h>e){if(d(b[f]))return f}else h++}return-1},J.clamp=function(a,b,c){return Math.max(b,Math.min(a,c));
},J.escapeHtml=function(a){return String(a).replace(/[&<>"'\/]/g,function(a){return u[a]})},J.truncate=function(a,b,d){if(a===c||!b)return a;J.isString(a)||(a=String(a));var e,f,g=0,h="";for(d===c&&(d=J.enums.Html.ELLIPSIS),e=0,f=a.length;f>e;e++){if(g+=a.charCodeAt(e)>=11904?2:1,g>b)return d?h+d:h;h+=a.charAt(e)}return h},J.trim=function(a){return a.replace(/^[\s\u3000]+|[\s\u3000]+$/g,"")},J.trimLeft=function(a){return a.replace(/^[\s\u3000]+/g,"")},J.trimRight=function(a){return a.replace(/[\s\u3000]+$/g,"");
},J.padLeft=function(a,b,d){var e,f;for(a=String(a),d===c&&(d="0"),e=0,f=b-a.length;f>e;e++)a=d+a;return a},J.padRight=function(a,b,d){var e,f;for(a=String(a),d===c&&(d="0"),e=0,f=b-a.length;f>e;e++)a+=d;return a},J.addUrlParams=function(b,c){if(b||(b=""),!c||a.isEmptyObject(c))return b;var d=b.indexOf("?");return-1!==d&&(c=a.extend(J.getUrlParams(b),c),b=b.substring(0,d)),b+"?"+a.param(c)},J.getTrackingLinks=function(a,b){var c={};return b.sid&&(c["s-id"]=b.sid),b.lid&&(c["l-id"]=b.lid),b.l2id&&(c["l2-id"]=b.l2id),
b.scid&&(c.scid=b.scid),J.addUrlParams(a,c)},J.addSerializedArrayToUrl=function(a,b,c){if(a||(a=""),!b||!c||!c.length)return a;var d,e,f=[],g=-1===a.indexOf("?")?"?":"&";for(d=0,e=c.length;e>d;d++)f.push(b+"="+c[d]);return a+g+f.join("&")},J.getUrlParams=function(a,c,d){var e,f,g;return a||(a=b.location.href),d!==!1&&(g=a+"."+(c?c:""),e=z[g])?e:(e={},f={},a.replace(/[#?&]+([^=&]+)=([^&#]*)/gi,function(a,b,d){var g,h,i,j,k;b=decodeURIComponent(b),d=decodeURIComponent(d),g=b.match(c),i=b.match(y),(!c||g)&&(g?i?(h=i[1].search(c),
k=i[1].substring(0,h)+i[1].substring(h+g[0].length)):(h=b.search(c),k=b.substring(0,h)+b.substring(h+g[0].length)):k=b,i?(b=i[1],J.isPlainObject(e[k])||(e[k]={},f[k]=-1),j=i[2],j?(e[k][j]=d,J.isInt(j)&&(f[k]=Math.max(f[k],Math.max(j)))):e[k][++f[k]]=d):e[k]=d)}),z[g]=e,e)},J.noopF=function(){return!1},J.noopT=function(){return!0},J.getUniqueId=function(a){return a===c&&(a=x),a+ ++w},J.readSettings=function(a,b){function d(a,b){var d,e;return d=J.Validator.fastOptions(a[1],a[2]),d&&d.options?(d.options.def=a[0],
d.options.optional=!0,e=J.Validator.exec(d.validator,b,d.options),e.valid?e.data:a[0]):c}function e(a){var b;for(a=a.replace(/(^data-)/,"");-1!==(b=a.search(/[-_]/));)a=a.substr(0,b)+a.charAt(b+1).toUpperCase()+a.substr(b+2);return a}function f(a){return i=b[a],!i||i[3]&&i[3]in o?!1:(n[a]=d(i,g[j].value),!0)}var g,h,i,j,k,l,m,n={},o=J.getUrlParams();for(j in b)n[j]=b[j][0];if(a)for(l=0,m=a.length;m>l;l++)for(g=a[l].attributes,j=0,k=g.length;k>j;j++)h=g[j].name,f(h)||f(e(h));for(j in b)i=b[j],h=i[3],
h&&h in o&&(n[j]=d(i,o[h]));return n},J.readApiSettings=function(b,c){return J.readSettings(b,a.extend({retry:[v.retry,"int"],retry_delay:[v.retry_delay,"int"],retryDelay:[v.retryDelay,"int"],retry_factor:[v.retry_factor,"int"],retryFactor:[v.retryFactor,"int"],mock_id:[v.mock_id,"str"],mockId:[v.mockId,"str"],mock_url:[v.mock_url,"str"],mockUrl:[v.mockUrl,"str"],mock_data:[v.mock_data,"json"],mockData:[v.mockData,"json"],mock_delay:[v.mock_delay,"int"],mockDelay:[v.mockDelay,"int"],mock_timeout:[v.mock_timeout,"bool"],
mockTimeout:[v.mockTimeout,"bool"],mock_code:[v.mock_code,"int"],mockCode:[v.mockCode,"int"],timeout:[v.timeout,"int"]},c))},J.extendApiSettings=function(a,b){return a.timeout=b.timeout,a.retry=b.retry,a.retry_delay=b.retry_delay,a.retryDelay=b.retryDelay,a.mock_url=b.mock_url,a.mockUrl=b.mockUrl,a.mock_code=b.mock_code,a.mockCode=b.mockCode,a.mock_data=b.mock_data,a.mockData=b.mockData,a.mock_delay=b.mock_delay,a.mockDelay=b.mockDelay,a.mock_timeout=b.mock_timeout,a.mockTimeout=b.mockTimeout,a.mock_id=b.mock_id,
a.mockId=b.mockId,a.cache=b.cache,a},J.compareVersions=i,J.random=function(){var a=Math.random(),b=2147483647,c=0;return 1===arguments.length?b=arguments[0]:2===arguments.length&&(b=arguments[1]-arguments[0],c=arguments[0]),(a*b|0)+c},J.getMilliseconds=function(){return(new Date).getTime()},J.getSeconds=function(){return J.getMilliseconds()/1e3|0},J.sleep=function(a){for(var b=J.getMilliseconds();J.getMilliseconds()-b<=a;);},J.delayedDeferred=function(c,d){var e;return 0>=d?c:(e=a.Deferred(),b.setTimeout(function(){
c.then(function(){e.resolve.apply(null,arguments)},function(){e.reject.apply(null,arguments)},function(){e.progress.apply(null,arguments)})},d),c.resolve?e:e.promise())},J.requestData=function(d){function e(){return t||(t=new J.Cache({ttl:15})),t}function f(b){var c=a.extend({},b);return delete c.mockId,delete c.mockData,delete c.mockCode,delete c.mockTimeout,delete c.mockDelay,delete c.mockUrl,c}function g(b){var c=a.extend(!0,{},v,b);return c.mockId=c.mockId||c.mock_id,c.mockData=c.mockData||c.mock_data,
c.mockCode=c.mockCode||c.mock_code,c.mockTimeout=c.mockTimeout||c.mock_timeout,c.mockDelay=c.mockDelay||c.mock_delay,c.mockUrl=c.mockUrl||c.mock_url,delete c.mock_id,delete c.mock_data,delete c.mock_code,delete c.mock_timeout,delete c.mock_delay,delete c.mock_url,c}function h(d){var e,h,i=g(d),j=i.mockDelay;return i.retry>0&&(h=a.Deferred(),h.then(i.success,i.error),delete i.success,delete i.error),i.mockUrl&&(i.url=i.mockUrl),p&&!i.mockUrl?i.mockCode||i.mockData!==c||i.mockTimeout?(i.url=i.mockId?p+"?"+i.mockId:p,
i.mockData!==c&&(i.data.mockData=b.JSON.stringify(i.mockData)),i.mockCode&&(i.data.mockCode=i.mockCode),i.mockTimeout?i.data.mockDelay=i.timeout+3e4:i.mockDelay>0&&(i.data.mockDelay=i.mockDelay),e=a.ajax(i)):e=J.delayedDeferred(a.ajax(f(i)),j):i.mockTimeout?(e=a.Deferred(),e.reject("timeout"),e=e.promise(),e=J.delayedDeferred(e,i.timeout)):(i.mockData!==c?(e=a.Deferred(),!i.mockCode||i.mockCode>=200&&i.mockCode<400?e.resolve(i.mockData):e.reject(i.mockData),e=e.promise()):e=a.ajax(f(i)),e=J.delayedDeferred(e,j)),
i.retry>0?(e.then(h.resolve,function(){0===i.retry?h.rejectWith(this,arguments):setTimeout(function(){J.requestData(a.extend({},i,{retry:i.retry-1,retryDelay:i.retryDelay*i.retryFactor})).then(h.resolve,h.reject,h.notify)},i.retryDelay)},h.notify),h.promise()):e}var i,j,k=a.Deferred(),l=a.extend({timeout:J.browser.isMobile?9e3:3e3},d),m=e();return delete l.cache,delete l.cacheTtl,i=b.JSON.stringify(l),d.cache!==!1&&(j=m.get(i)),j?k.resolve.apply(null,j):h(l).fail(function(){k.reject.apply(null,arguments);
}).done(function(){m.set(i,arguments,d&&d.cacheTtl),k.resolve.apply(null,arguments)}),k.promise()},J.log=function(a){},J.coalesce=function(){var a,b;for(a=0,b=arguments.length;b>a;a++)if(arguments[a]!==c)return arguments[a]},J.applyTemplate=function(a,b,c){var d,e;for(d in b)e=c===!1?b[d]:J.escapeHtml(b[d]),a=a.replace(new RegExp(d,"g"),e);return a},J.css=function(b,c,d){var e,f,g,h,i=b instanceof a?b.get(0):b,j={};if(i){for(e=(i.style.cssText||"").split(";"),g=0,h=e.length;h>g;g++)e[g]&&(f=e[g].split(":"),
j[f[0].toLowerCase()]=f[1]);if(1===arguments.length)return j;if(2===arguments.length)for(g in c)j[g.toLowerCase()]=c[g];else j[c.toLowerCase()]=d;f=[];for(g in j)f.push(g+":"+j[g]);return i.style.cssText=f.join(";"),j}},J.animate=function(a,b,c,d,e){function f(b){a.css(I,g),J.isFunction(e)&&e(b)}var g,h,i={},j={},k=[];if(0>=c||J.browser.isIe&&J.browser.version<9)return a.css(b),void(J.isFunction(e)&&e());if(d||(d="linear"),!G||!H&&J.isFunction(e))a.animate(b,c,d,e);else{for(h in b)switch(h){case"left":
j.left=b.left,k.push("left "+c+"ms "+d);break;case"right":j.right=b.right,k.push("right "+c+"ms "+d);break;case"top":j.top=b.top,k.push("top "+c+"ms "+d);break;case"bottom":j.bottom=b.bottom,k.push("bottom "+c+"ms "+d);break;case"opacity":j.opacity=b.opacity,k.push("opacity "+c+"ms "+d);break;default:i[h]=b[h]}k.length>0&&(g=a.css(I),a.one(H,f),j.transition=k.join(","),a.css(j)),J.isEmptyObject(i)||a.animate(i,c,d)}},J.imageLazyLoad=function(c,d,f){a(b).scrollTop()+a(b).height()+500;return d||(d="data-r-src"),
f||(f="data-r-srcset"),c.find("img").each(function(b,c){var e,g;c=a(c),e=c.attr(d),g=c.attr(f),(e||g)&&A.push([c,{src:d,srcset:f}])}),e(),c},J.onLazyLoad=function(a,b,d,e){D.push({callback:a,id:b,elem:d,margin:e===c?500:e})},J.offLazyLoad=function(a){var b;if(a!==c)for(b=D.length;b>=0;b--)D[b].id===a&&D.splice(b,1)},J.triggerLazyLoading=e;var K,L,M,N,O,P=0;return"ontouchstart"in b?(K="touchstart",L="touchmove",M="touchend"):(K="mousedown",L="mousemove",M="mouseup"),F.on(L,l),F.on(M,k),J.onSwipe=function(a,b,c,d){
a.on(o(K,d),c,j),a.on(o("swipe",d),b)},J.onSwipeLeft=function(a,b,c,d){a.on(o(K,d),c,j),a.on(o("swipeleft",d),b)},J.onSwipeRight=function(a,b,c,d){a.on(o(K,d),c,j),a.on(o("swiperight",d),b)},J.offSwipe=function(a,b){a.off(o(K,b)),a.off(o("swipe",b))},J.offSwipeLeft=function(a,b){a.off(o(K,b)),a.off(o("swipeleft",b))},J.offSwipeRight=function(a,b){a.off(o(K,b)),a.off(o("swiperight",b))},J.enableOnClick=function(b,c,d,e){function f(a){i&&(i=!1,J.css(c,"display",g.hideAs),a.stopImmediatePropagation(),
g.onHide&&g.onHide())}var g=a.extend({showAs:"block!important",hideAs:"none!important",showDelay:0,hideDelay:0,namespace:"enableOnClick"},e),h="click."+g.namespace,i=!1;b.unbind(h),d.unbind(h),b.bind(h,function(a){i||(i=!0,a.stopImmediatePropagation(),J.css(c,"display",g.showAs),g.onShow&&g.onShow())}),d.bind(h,f),g.$cancelOn&&g.$cancelOn.unbind(h).bind(h,function(a){a.stopPropagation()})},J.enableOnHover=function(b,c,d){function e(){J.css(c,"display",k.showAs),h=!0,k.onShow&&k.onShow()}function f(){
J.css(c,"display",k.hideAs),h=!1,k.onClose&&k.onClose()}function g(){h||!i&&!j?setTimeout(function(){i||j||(k.hideDelay>0?setTimeout(f,k.hideDelay):f())},k.checkDelay):k.showDelay>0?setTimeout(e,k.showDelay):e()}var h,i,j,k=a.extend({showAs:"block!important",hideAs:"none!important",showDelay:0,hideDelay:0,checkDelay:25,namespace:"enableOnHover"},d);b.hover(function(){i=!0,g()},function(){i=!1,g()}),c.hover(function(){j=!0,g()},function(){j=!1,g()})},J.getAbTestCase=function(a,b){var c,d,e;b||(c=J.cookies.get("Rt"),
b=c?c.substr(c.length-3):0),b=parseInt(b,16);for(e in a)if(d=a[e].split("-"),b>=parseInt(d[0],16)&&b<=parseInt(d[1],16))return e;return null},J.calculatePoints=function(b,e,f){function g(a){return function(b){return b===a}}function h(a){return function(b){return b.type===a}}function i(a,b,c){var d,f,i,j,k,l,m=c||[];for(r[a]&&(b=(b||[]).concat(r[a])),s[a]&&(c=(c||[]).concat(s[a])),j=0,k=e.length;k>j;j++)i=e[j],d=g(i.type),f=h(i.type),(b&&b.length&&-1===J.find(b,d)||-1!==J.find(c,d))&&m.push(i.type),
l=J.find(q,f),-1!==l&&(m=m.concat(q[l].del));return J.getUnique(m)}function j(a,b){var c,d,e,f,h=[];for(d=0,e=a.length;e>d;d++)c=a[d],f=g(c.type),-1===J.find(b,f)&&h.push(c);return h}d();var k,l,m,n,o,p,t=a.extend({minPrice:100,userRank:J.enums.UserRank.DEFAULT,henbai:{}},f),u=0;if(b=parseFloat(b),!J.isNumber(b)||!J.isArray(e))return c;for(p=i(t.itemType,t.accept,t.ignore),e=j(e,p),n=0,o=e.length;o>n;n++){switch(l=e[n],l.type){case J.enums.PointType.SD:k=b*l.rate*.01;break;case J.enums.PointType.HEN:
if(b<t.minPrice)continue;t.henbai&&(m=l.rate||0,m+=t.henbai&&parseFloat(t.henbai[t.userRank])||0),k=m*Math.floor(.01*b);break;default:if(b<t.minPrice)continue;k=l.rate*Math.floor(.01*b)}u+=Math.floor(k)}return u},J.getNextElement=function(b,c){var d,e;return d=c&&c.parent?a(c.parent).find(b):a(b),e=d.not("["+E+"]").first(),e.attr(E,1),e},J}}($,window);!function(a,b){var c={Html:{ELLIPSIS:"\u2026",INV_LINE_SPLIT:String.fromCharCode(8203),YEN:"\u5186",W_SPACE:"\u3000"},Keys:{ESC:27,ENTER:13,
NUM_ENTER:29,SPACE:32,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},UserRank:{DEFAULT:1,SILVER:2,GOLD:3,PLATINUM:4,DIAMOND:5},PointType:{DEFAULT:1,BASE:2,MB:3,CB:4,APP:5,DEC:6,C1:7,SD:8,DPG:9,HEN:10,KAI:11,ENT:12,ITEM:13,SHOP:14,KOBO:15,TBAR:16}};return a.enums=c,a.enums}(R),function(a,b,c){function d(a){var b,d;if(a===c)b=h;else if("number"==typeof a)b=a;else if("Z"===a)b=0;else{if("string"!=typeof a)throw"Wrong timezone";if(d=i.exec(a),!d)throw"Wrong timezone";b=60*parseInt(d[2],10)+parseInt(d[3],10),
"-"===d[1]&&(b*=-1)}return b}var e=a.$,f=540,g=-(new Date).getTimezoneOffset(),h=f,i=/^([+-])(\d\d):(\d\d)$/,j=/^(\d{4})(\d\d)(\d\d)((\d\d)(\d\d)(\d\d)?)?$/,k=/^(\d{4})-(\d\d)-(\d\d)([T ](\d\d):(\d\d)(:(\d\d)(\.(\d{1,3}))?)?(Z|([+-])(\d\d):(\d\d))?)?$/,l=/^\w{3}, (\d{1,2}) (\w{3}) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,m=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"];a.Date=function(b,e){function f(a){var b;return"number"==typeof a?a:(b=j.exec(a))?b[4]?b[7]?Date.UTC(b[1],parseInt(b[2],10)-1,b[3],b[5],b[6],b[7]):Date.UTC(b[1],parseInt(b[2],10)-1,b[3],b[5],b[6]):Date.UTC(b[1],parseInt(b[2],10)-1,b[3]):(b=k.exec(a.toUpperCase()))?("Z"===b[11]?e=0:b[11]&&(e=60*parseInt(b[13],10)+parseInt(b[14],10),
"-"===b[12]&&(e*=-1)),b[4]?b[8]?b[10]?Date.UTC(b[1],parseInt(b[2],10)-1,b[3],b[5],b[6],b[8],b[10]):Date.UTC(b[1],parseInt(b[2],10)-1,b[3],b[5],b[6],b[8]):Date.UTC(b[1],parseInt(b[2],10)-1,b[3],b[5],b[6]):Date.UTC(b[1],parseInt(b[2],10)-1,b[3])):(b=l.exec(a.toUpperCase()),b?(e=0,Date.UTC(b[3],m.indexOf(b[2]),b[1],b[4],b[5],b[6])):void 0)}var g;if(b instanceof a.Date)return this._date=new Date(b._date),void(this._offset=b._offset);if(this._offset=h,e=d(e),b!==c){if(g=f(b),g===c)throw"Wrong date";this._date=new Date(g-6e4*e);
}else this._date=new Date},a.Date.prototype.setTimezone=function(a){var b=a===c?g:d(a);return this._date.setTime(this._date.getTime()+6e4*(b-this._offset)),this._offset=b,this},a.Date.prototype.getSeconds=function(){return this._date.getTime()/1e3|0},a.Date.prototype.getMilliseconds=function(){return this._date.getTime()},a.Date.prototype.getUserFormatDateTime=function(){return this.getUserFormatDate()+" "+this.getUserFormatTime()},a.Date.prototype.getUserFormatDate=function(){return this._date.getFullYear()+"/"+a.padLeft(this._date.getMonth()+1,2,"0")+"/"+a.padLeft(this._date.getDate(),2,"0");
},a.Date.prototype.getUserFormatTime=function(){return a.padLeft(this._date.getHours(),2,"0")+":"+a.padLeft(this._date.getMinutes(),2,"0")},a.Date.prototype.getNumericFormat=function(b){var c=e.extend({longYear:!0,seconds:!0},b),d=[c.longYear?this._date.getFullYear():String(this._date.getFullYear()).substring(2),a.padLeft(this._date.getMonth()+1,2,"0"),a.padLeft(this._date.getDate(),2,"0"),a.padLeft(this._date.getHours(),2,"0"),a.padLeft(this._date.getMinutes(),2,"0"),c.seconds?a.padLeft(this._date.getSeconds(),2,"0"):""];
return d.join("")},a.Date.prototype.getIsoFormat=function(){return this._date.getUTCFullYear()+"-"+a.padLeft(this._date.getUTCMonth()+1,2,"0")+"-"+a.padLeft(this._date.getUTCDate(),2,"0")+"T"+a.padLeft(this._date.getUTCHours(),2,"0")+":"+a.padLeft(this._date.getUTCMinutes(),2,"0")+":"+a.padLeft(this._date.getUTCSeconds(),2,"0")+"."+a.padLeft(this._date.getUTCMilliseconds(),3,"0")+"Z"},a.Date.prototype.getCalendarFormat=function(){return this._date.getFullYear()+"-"+a.padLeft(this._date.getMonth()+1,2,"0")+"-"+a.padLeft(this._date.getDate(),2,"0")+" "+a.padLeft(this._date.getHours(),2,"0")+":"+a.padLeft(this._date.getMinutes(),2,"0")+":"+a.padLeft(this._date.getSeconds(),2,"0");
},a.Date.prototype.getJapaneseDateTimeFormat=function(){return this._date.getMonth()+1+"/"+this._date.getDate()+"("+n[this._date.getDay()]+") "+this._date.getHours()+":"+a.padLeft(this._date.getMinutes(),2,"0")},a.Date.prototype.getMonthDayFormat=function(){return this._date.getMonth()+1+"/"+this._date.getDate()},a.Date.prototype.getDayKanji=function(){return n[this._date.getDay()]},a.Date.prototype.compareTo=function(b){return b instanceof a.Date||(b=new a.Date(b)),this._date.getTime()-b._date.getTime()-6e4*(this._offset-b._offset);
},a.Date.prototype.isBefore=function(b){return b instanceof a.Date||(b=new a.Date(b)),this.compareTo(b)<0},a.Date.prototype.isAfter=function(b){return b instanceof a.Date||(b=new a.Date(b)),this.compareTo(b)>0},a.Date.prototype.isSame=function(b){return b instanceof a.Date||(b=new a.Date(b)),0===this.compareTo(b)},a.Date.prototype.isSameOrBefore=function(b){return b instanceof a.Date||(b=new a.Date(b)),this.compareTo(b)<=0},a.Date.prototype.isSameOrAfter=function(b){return b instanceof a.Date||(b=new a.Date(b)),
this.compareTo(b)>=0},a.Date.prototype.isBetween=function(b,c){return b instanceof a.Date||(b=new a.Date(b)),c instanceof a.Date||(c=new a.Date(c)),this.isAfter(b)&&this.isBefore(c)},a.Date.prototype.add=function(a){return this._date.setTime(this._date.getTime()+a),this}}(R,window),function(a,b,c,d){var e={};e.userAgent=c.userAgent||c.vendor||b.opera,e.userLanguage=c.userLanguage||c.language||c.browserLanguage,e.isMobile=-1!==e.userAgent.search(/android.+mobile|ip(hone|od)/i),e.isTablet=!e.isMobile&&-1!==e.userAgent.search(/android|ipad/i),
e.isEdge=-1!==e.userAgent.indexOf("Edge/"),e.isOpera=!!b.opera||c.userAgent.indexOf(" OPR/")>=0,e.isIe=!!document.documentMode||/MSIE [34567]\./.test(e.userAgent),e.isFirefox="undefined"!=typeof InstallTrigger,e.isSafari=Object.prototype.toString.call(b.HTMLElement).indexOf("Constructor")>0,e.isChrome=!!b.chrome&&!e.isEdge&&!e.isOpera,e.version=function(){var a,b;if(e.isChrome){if(a=/Chrom(e|ium)\/([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent))return parseFloat(b[2])}else e.isFirefox?(a=/Firefox\/([0-9]+(\.[0-9]+)?)/,
b=a.exec(e.userAgent)):e.isIe?(a=/MSIE ([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent),b||-1!==e.userAgent.indexOf("Trident/")&&(a=/rv:([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent))):e.isEdge?(a=/Edge\/([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent)):e.isOpera?(a=/Version\/([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent)):e.isSafari&&(a=/Version\/([0-9]+(\.[0-9]+)?)/,b=a.exec(e.userAgent));return b?parseFloat(b[1]):d}(),e.isIchibaApp=-1!==e.userAgent.indexOf("IchibaApp"),e.isSupported=function(b){if(!b)throw"date is required";
return b=new a.Date(b),b.isBefore("2016-07-01")?!e.isIe||e.version>=7:!e.isIe||e.version>=8},a.browser=e}(R,window,navigator),function(a,b,c){var d=a.$,e={ttl:300,cleanOnAccess:!0,autoClean:0,maxKeys:0,purgeRatio:.95},f=function(f){var g,h,i,j,k,l=function(){var a=this;i=d.extend({},e,f),this.clear(),i.autoClean>0&&b.setInterval(function(){a.purge()},1e3*i.autoClean)},m=function(){for(var a,b=i.maxKeys*i.purgeRatio|0;j>b;)a=k.shift(),this.remove(a)};this.set=function(b,d,e){e===c&&(e=i.ttl),
h[b]!==c?k.splice(k.indexOf(b),1):j++,g[b]=d,h[b]=e>0?a.getSeconds()+e:0,k.push(b),i.maxKeys>0&&j>i.maxKeys&&m.call(this)},this.get=function(b){var d=h[b];return d!==c?d>0&&d<a.getSeconds()?(i.cleanOnAccess&&this.remove(b),c):g[b]:c},this.remove=function(a){h[a]!==c&&(delete h[a],delete g[a],j--)},this.clear=function(a){var b;if(a)for(b in g)-1!==b.search(a)&&this.remove(b);else h={},g={},j=0,k=[]},this.purge=function(){var b,c,d=a.getSeconds();for(c in g)b=h[c],b>0&&d>b&&this.remove(c)},this.count=function(){
return j},l.apply(this,arguments)};a.Cache=f}(R,window),function(a,b,c){function d(){var a,c,d,e,f={};if("object"==typeof b.localStorage)for(a in b.localStorage)e=a.indexOf(":"),-1!==e&&(c=a.substring(0,e),d=a.substring(e+1),c in f?f[c].push(d):f[c]=[d]);return f}function e(){var b,c,e,f,g,h=d();for(b in h)for(g=new a.Storage(b,!1,!0),c=h[b],e=0,f=c.length;f>e;e++)g.get(c[e])}var f=a.$,g={sessionStorage:!1};setTimeout(e,3e4);var h=function(d,e,h){function i(c,e,f){var g={d:e};(!f||0>=f||f>31536e3)&&(f=31536e3),
f>=0&&(g.t=a.getSeconds()+f);try{m.setItem(d+":"+c,b.JSON.stringify(g))}catch(h){return!1}return!0}function j(e){var f=m.getItem(d+":"+e);if(!f)return c;try{return f=b.JSON.parse(f),a.isPlainObject(f)&&"undefined"!=typeof f.d?f.t&&f.t<a.getSeconds()?(this.remove(e),c):f.d:c}catch(g){return c}}function k(a){a=d+":"+a,m.removeItem(a)}function l(){for(var a,b,c=new RegExp("^"+d+":"),e=m.length-1,f=[];e>=0;)b=m.key(e),0===b.search(c)&&f.push(b),e--;for(e=0,a=f.length;a>e;e++)m.removeItem(f[e])}var m,n=f.extend({},g,e),o=function(){
if(!d||-1!==d.indexOf(":")||-1!==d.indexOf(".")&&!h)throw"Storage:: Invalid namespace";return this.isAvailable()?(this.enable(),void(m=n.sessionStorage?b.sessionStorage:b.localStorage)):void this.disable()};this.isAvailable=function(){var a=n.sessionStorage?"sessionStorage":"localStorage";try{return b[a].setItem("__testKey__","1"),b[a].removeItem("__testKey__"),!0}catch(c){return!1}},this.set=i,this.get=j,this.remove=k,this.clear=l,this.enable=function(){this.isAvailable()&&(this.set=i,this.get=j,
this.remove=k,this.clear=l)},this.disable=function(){this.set=a.noopF,this.get=f.noop,this.remove=a.noopF,this.clear=a.noopF},o.apply(this,arguments)};a.Storage=h}(R,window),function(a,b,c){var d=a.$,e={};e.formatNumber=function(a){return null==a?"":(a+"").replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},e.formatPrice=function(b){if(b>=0==!1)return"";var c=e.formatNumber(b);return c?c+a.enums.Html.YEN:""},e.shippingIncludedText=function(a){return"boolean"!=typeof a?"":a?"\u9001\u6599\u8fbc":"\u9001\u6599\u5225";
},e.reviewAverageStars=function(a,b){if(isNaN(a)||0>a)return"";var c,e,f,g,h=Math.floor(a),i=a-h;for(e={containerClass:"review-avg-stars",fullStarClass:"review-star star-full",halfStarClass:"review-star star-half",emptyStarClass:"review-star star-empty"},e=d.extend(!0,e,b),f=d("<ul>",{"class":e.containerClass}),c=1;5>=c;c++)h>=c?g=e.fullStarClass:i>=.5?(g=e.halfStarClass,i=0):g=e.emptyStarClass,d("<li>",{"class":g}).appendTo(f);return f},a.display=e}(R,window),function(a,b){var c,d=a.$,e={
strict:!1,canonize:!0,returnNullOnErrors:!0,optional:!1,validators:{},allowOverwriteValidators:!1,def:b},f=function(c){var f,g,h,i=function(a){var b=this;f=d.extend({},e,a),g={},h={},d.each(f.validators,function(a,c){b.addValidator(c)})},j=function(a,b,c,d){d?g[a]=c:h[a]=b},k=function(a,c,e,g){var h,i=d.extend({},f,g);h=e===b&&i.optional?h={data:i.def!==b?i.def:b,valid:!0}:a(e,i),j(c,e,i.canonize?h.data:e,h.valid)},l=function(c,e,g,h){var i,k,l,m=!0,n=d.extend({},f,h);if(a.isArray(g))for(i=g.slice(),
l=0;l<i.length;l++){if(k=c(i[l],n),!k.valid){m=!1;break}n.canonize&&(i[l]=k.data)}else g===b&&n.optional?(n.def!==b&&(i=n.def),m=!0):m=!1;j(e,g,i,m)},m=function(c,e,g,h){var i,k,l,m=!0,n=d.extend({},f,h);if(a.isPlainObject(g)){i=d.extend(!0,{},g);for(l in g){if(k=c(i[l],n),!k.valid){m=!1;break}n.canonize&&(i[l]=k.data)}}else g===b&&n.optional?(n.def!==b&&(i=n.def),m=!0):m=!1;j(e,g,i,m)};this.errors=function(){return a.isEmptyObject(h)?null:h},this.valid=function(b){var c,d=null;if("undefined"!=typeof b&&!a.isPlainObject(b))throw"base needs to be a plain object if specified";
if(!f.returnNullOnErrors||a.isEmptyObject(h))if(b){for(c in g)b[c]=g[c];d=b}else d=g;return d},this.reset=function(){return this.resetErrors(),this.resetValid(),this},this.resetErrors=function(){return h={},this},this.resetValid=function(){return g={},this},this.addValidator=function(b){if(!a.isFunction(b))throw"validator is not a function";if(!a.isFunction(b.getName))throw"validator.getName is not a function";var c=b.getName();if(!c||!a.isString(c))throw"validator.getName() doesn't return a valid name";
if(!f.allowOverwriteValidators){if(this[c])throw"The method "+c+" is already defined";if(this[c+"Array"])throw"The method "+c+"Array is already defined";if(this[c+"Object"])throw"The method "+c+"Object is already defined"}return this[c]=function(a,c,d){return k(b,a,c,d),this},this[c+"Array"]=function(a,c,d){return l(b,a,c,d),this},this[c+"Object"]=function(a,c,d){return m(b,a,c,d),this},this},i.apply(this,arguments)},g=function(a,c,f){var g,h=d.extend({},e,f);return g=c===b&&h.optional?g={data:h.def,
valid:!0}:a(c,h),h.canonize||(g.data=c),g},h=function(a){c=new f(d.extend({},e,{validators:a}))},i=function(c,d){var e=a.Validator.fastOptionsDefinitions[c.toLowerCase()];return e?e(d):b};return a.Validator=function(b){return new f(d.extend({},e,b,{validators:a.Validator.definitions}))},a.Validator.definitions={},a.Validator.fastOptionsDefinitions={},a.Validator.fastOptions=i,a.Validator.createStaticInstance=h,a.Validator.exec=g,a.Validator}(R),function(a,b){function c(a,c){return{data:a,
valid:a!==b}}function d(b,c){var d,e;return c.strict&&a.isString(b)?"true"===b||"1"===b?(d=!0,e=!0):"false"===b||"0"===b?(d=!1,e=!0):(d=b,e=!1):(d=!!b,e=!0),{data:d,valid:e}}function e(c,d){var e,f;return(f=d.strict?a.isNumber(c):a.isNumeric(c)||c===1/0||c===-(1/0))?(e=d.integer?0|Number(c):Number(c),f&&(d.min!==b&&(e=Math.max(d.min,e)),d.max!==b&&(e=Math.min(e,d.max)),d.rangeMin!==b&&(f=d.minEq?e>=d.rangeMin:e>d.rangeMin),f&&d.rangeMax!==b&&(f=d.maxEq?e<=d.rangeMax:e<d.rangeMax)),f&&d.regExp&&(f=-1!==e.toString().search(d.regExp)),
{data:e,valid:f}):{data:e,valid:f}}function f(b,c){var d=String(b),e=null!=d&&(!c.strict||a.isString(b));return e&&c.maxLength&&(d=a.truncate(d,c.maxLength,c.append)),e&&c.regExp&&(e=-1!==d.search(c.regExp)),c.lowerCase?d=d.toLowerCase():c.upperCase&&(d=d.toUpperCase()),{data:d,valid:e}}function g(b,c){return{data:b,valid:a.isFunction(b)}}function h(b,c){if(!c||!a.isPlainObject(c.enumerated))throw"options.enumerated is not an Object";var d,e=null,f=!1;for(d in c.enumerated)if(!c.strict&&b==c.enumerated[d]||c.strict&&b===c.enumerated[d]){
e=c.enumerated[d],f=!0;break}return{data:e,valid:f}}function i(b,c){if(!c||!a.isPlainObject(c.enumerated))throw"options.enumerated is not an Object";var d,e=null,f=!1;for(d in c.enumerated)if(!c.strict&&b==d||c.strict&&b===d){e=d,f=!0;break}return{data:e,valid:f}}function j(b,c){if(!c||!a.isPlainObject(c.enumerated))throw"options.enumerated is not an Object";var d,e=null,f=!1;for(d in c.enumerated)if(!c.strict&&b==d||c.strict&&b===d){e=c.enumerated[d],f=!0;break}return{data:e,valid:f}}function k(a,b){
var c;try{return c=window.JSON.parse(a),{data:c,valid:!0}}catch(d){return{data:a,valid:!1}}}a&&a.Validator&&(a.Validator.definitions={defined:c,bool:d,num:e,str:f,callback:g,enumerated:h,enumeratedKey:i,enumeratedKeyValue:j,json:k},function(a){function b(a){return function(){return a}}for(var c in a)a[c].getName=b(c)}(a.Validator.definitions),a.Validator.createStaticInstance(a.Validator.definitions))}(R),function(a,b){function c(a){var b,c=s.exec(a);return c?(b={minEq:"("!==c[1],maxEq:")"!==c[6]
},c[2]&&(b.min=Number(c[2])),c[4]&&(b.max=Number(c[4])),b):null}function d(b){return{validator:a.Validator.definitions.num,options:{regExp:b}}}function e(a){var b=d(a);return b.integer=!0,b}function f(b){var d=c(b);return{validator:a.Validator.definitions.num,options:{rangeMin:d.min,rangeMax:d.max,minEq:d.minEq,maxEq:d.maxEq}}}function g(a){var b=f(a);return b.options&&(b.options.integer=!0),b}function h(b){return{validator:a.Validator.definitions.num,options:c(b)}}function i(a){var b=h(a);return b.options&&(b.options.integer=!0),
b}function j(b){return{validator:a.Validator.definitions.str,options:{regExp:b}}}function k(b){return{validator:a.Validator.definitions.str,options:{upperCase:!0,regExp:b}}}function l(b){return{validator:a.Validator.definitions.str,options:{lowerCase:!0,regExp:b}}}function m(b){var c,d={validator:a.Validator.definitions.str,options:{}};return a.isNumeric(b)?d.options.maxLength=b:a.isString(b)&&(c=b.split(","),d.options.maxLength=parseInt(c[0],10),d.options.append=c[1]),d}function n(b){return{validator:a.Validator.definitions.bool,
options:{strict:!0}}}function o(b){return{validator:a.Validator.definitions.enumerated,options:{enumerated:b}}}function p(b){return{validator:a.Validator.definitions.enumeratedKey,options:{enumerated:b}}}function q(b){return{validator:a.Validator.definitions.enumeratedKeyValue,options:{enumerated:b}}}function r(b){return{validator:a.Validator.definitions.json,options:{}}}var s=/^(\(|\[)?([0-9]*(\.[0-9]*)?)?, *([0-9]*(\.[0-9]*)?)?(\)|\])?$/;a.Validator.fastOptionsDefinitions={range:f,rangeint:g,clamp:h,
clampint:i,number:d,"float":d,"int":e,str:j,strupper:k,strlower:l,truncate:m,bool:n,"enum":o,enumkey:p,enumvalue:q,json:r}}(R),function(a,b,c,d){var e=(a.$,{});e.TTL=604800,e.isDefined=function(a){return e.get(a)!==d},e.getAll=function(){var d,e,f,g,h,i,j,k={};if(!c.cookie)return k;for(j=c.cookie.split(";"),d=0,e=j.length;e>d;d++)if(g=j[d],f=g.indexOf("="),-1!==f){h=a.trimLeft(b.decodeURIComponent(g.substr(0,f))),i=b.decodeURIComponent(g.substr(f+1,g.length-f-1));try{i=b.JSON.parse(i);
}catch(l){}k[h]=i}return k},e.get=function(a){return e.getAll()[a]},e.set=function(f,g,h,i,j,k){var l,m;if("string"!=typeof g){if(!b.JSON||!b.JSON.stringify)return;g=b.JSON.stringify(g)}if(h===d?h=e.TTL?(new a.Date).add(1e3*e.TTL):null:a.isNumber(h)&&(h=(new a.Date).add(1e3*h)),null!==h){if(!(h instanceof a.Date))throw"Invalid expiration option";m=a.getSeconds(),h.getSeconds-m>31536e3&&(h=(new a.Date).add(31536e6))}l=b.encodeURIComponent(f)+"="+b.encodeURIComponent(g)+(null!=h?"; expires="+h._date.toUTCString():"")+(j?"; domain="+j:"")+(i?"; path="+i:"")+(k?"; secure=true":""),
c.cookie=l},e.remove=function(a,b,c){e.set(a,"",0,b,c)},a.cookies=e}(R,window,document),function(a,b,c){var d=(a.$,{});d.isLogged=function(b){return b===c?a.cookies.isDefined("Rz"):b},a.user=d}(R,window),function(a,b,c){var d=a.$;a.api={},a.api.getServerTime=function(b){var c=d.Deferred(),e=d.extend({mock_id:"SERVER_TIME",retry:0,url:"http://gettime.r10s.jp/",timeout:3e3,cache:!1},b);return a.requestData(e).done(function(b){b&&b.epoch?c.resolve(new a.Date(1e3*parseInt(b.epoch,10),0)):c.reject(b);
}).fail(function(a){c.reject(a)}),c.promise()}}(R,window);
return R; });}